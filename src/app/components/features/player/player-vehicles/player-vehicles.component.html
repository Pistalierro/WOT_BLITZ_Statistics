<div *ngIf="tanksService.loading()">
  <p>Загрузка данных...</p>
</div>

<div *ngIf="tanksService.error()">
  <p class="error">{{ tanksService.error() }}</p>
</div>

<div *ngIf="tanksService.tanksList() as tanks">
  <h2>Список танков на которых сыгран хотя бы 1 бой (первые 10)</h2>
  <p>Всего танков в ангаре: {{ tanks.length }}</p>

  <!-- Отображаем только первые 5 танков -->
  <div *ngFor="let tank of tanks | slice:0:10" class="tank-card">
    <img [alt]="tank.name" [src]="tank.images?.preview" class="tank-icon">
    <h3>{{ tank.name || 'Название неизвестно' }}</h3>
    <p>ID танка: {{ tank.tank_id }}</p>
    <p>Нация: <img [alt]="tank.nation" [src]="getFlagUrl(tank.nation)" class="flag-icon"></p>
    <p>Уровень: {{ tank.tier }}</p>
    <p>Тип: {{ tanksService.getTankTypeRu(tank.type) }}</p>

    <ng-container *ngIf="tank.all as stats; else noStats">
      <p>Количество боев: {{ stats.battles }}</p>
      <p>Победы: {{ (stats.wins / stats.battles) * 100 | number: '1.2-2' }}%</p>
      <p>Средний урон за бой: {{ (stats.damage_dealt / stats.battles) | number: '1.0-0' }}</p>
      <p>Максимально уничтожено за бой: {{ stats.max_frags }}</p>
    </ng-container>

    <ng-template #noStats>
      <p>Статистика отсутствует</p>
    </ng-template>
  </div>
</div>
